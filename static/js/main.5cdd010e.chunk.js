(this["webpackJsonpcode-bar-job-board-app"]=this["webpackJsonpcode-bar-job-board-app"]||[]).push([[0],{120:function(e,t,a){},123:function(e,t,a){},131:function(e,t,a){"use strict";a.r(t);var c=a(2),s=a.n(c),n=a(48),o=a.n(n),r=(a(120),a(1)),i=a.n(r),l=a(7),b=a(3),d=a(10),j=a(20),m=a(39),h=a(100),u=a(104),p=a(82),O=a(50),x=Object(u.a)({apiKey:"AIzaSyBTvma9FYsobDlmfSdq1qcVAJVHteFW_VQ",authDomain:"codebarjobboard.firebaseapp.com",projectId:"codebarjobboard",storageBucket:"codebarjobboard.appspot.com",messagingSenderId:"672397721541",appId:"1:672397721541:web:cc05c1f5aa9383e705d5ac"}),f=Object(p.e)(),v=Object(O.b)(x),g=(a(123),a(21)),y=a(0),w=function(e){var t=e.job,a=new Date(t.expiry_date).toDateString();return Object(y.jsxs)("div",{className:"job-summary-box col-md-5 col-sm-8 shadow-sm p-3 mb-4 bg-white rounded border",children:[Object(y.jsx)(g.b,{to:{pathname:"/jobs/".concat(t.id)},children:Object(y.jsx)("h3",{className:"fs-4",children:t.title})}),Object(y.jsx)("h4",{className:"fs-5 fw-bold mb-2",children:t.company}),Object(y.jsxs)("h4",{className:"fs-6 fw-bold mb-4",children:["\ud83d\udccd ",t.location]}),Object(y.jsxs)("div",{className:"row",children:[Object(y.jsx)("p",{className:"col-6",children:"Salary:"}),Object(y.jsx)("p",{className:"col-6 fw-bold",children:"0"===t.salary?"No salary information submitted":"\xa3"+t.salary})]}),Object(y.jsxs)("div",{className:"row",children:[Object(y.jsx)("p",{className:"col-6",children:"Published on:"}),Object(y.jsx)("p",{className:"col-6 fw-bold",children:t.published_on.substring(0,10)})]}),Object(y.jsxs)("div",{className:"row",children:[Object(y.jsx)("p",{className:"col-6",children:"Closing date:"}),Object(y.jsx)("p",{className:"col-6 fw-bold",children:a})]}),Object(y.jsxs)("div",{className:"row",children:[Object(y.jsx)("p",{className:"col-6",children:"Location:"}),Object(y.jsx)("p",{className:"col-6 fw-bold",children:t.location})]})]})},N="/",k="/my/jobs",C="/my/jobs/new",S="/admin/jobs",J="/admin/make-remove",_="/signup",I="/signin",F="/forgot-password",E=function(e){var t=e.jobs,a=e.currentUser,c=t.filter((function(e){return e.approved&&new Date(e.expiry_date)>new Date})),s=c.map((function(e){return Object(y.jsx)(w,{job:e,currentUser:a},e.id)}));return Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)("h2",{className:"fw-bold",children:"Jobs"}),Object(y.jsxs)("p",{children:["There are ",c.length," jobs posted"]}),Object(y.jsxs)("p",{children:[Object(y.jsx)(g.b,{to:{pathname:C},children:"Click here"})," if you would like to post a new job"]}),Object(y.jsx)("div",{className:"row job-summaries",children:s})]})},D=function(){return Object(y.jsxs)("footer",{className:"main-footer container-fluid",children:[Object(y.jsxs)("div",{className:"row py-5",children:[Object(y.jsxs)("div",{className:"col-sm-12 col-md-6 col-lg-3",children:[Object(y.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," codebar"]}),Object(y.jsxs)("p",{className:"contact",children:["Send us an email at...",Object(y.jsx)("a",{className:"text-white fw-bold text-decoration-none footer-link ",href:"mailto:hello@codebar.io?Subject=Hello codebar",children:"hello@codebar.io"})]})]}),Object(y.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-3",children:Object(y.jsxs)("ul",{className:"list-unstyled ml-0",children:[Object(y.jsx)("li",{children:Object(y.jsx)("a",{className:"text-white fw-bold text-decoration-none footer-link ",href:"https://codebar.io/code-of-conduct",children:"Code of Conduct"})}),Object(y.jsx)("li",{children:Object(y.jsx)("a",{className:"text-white fw-bold text-decoration-none footer-link ",href:"https://codebar.io/breach-code-of-conduct",children:"Breach of Conduct"})}),Object(y.jsx)("li",{children:Object(y.jsx)("a",{className:"text-white fw-bold text-decoration-none footer-link ",href:"https://codebar.io/effective-teacher-guide",children:"Coach Guide"})}),Object(y.jsx)("li",{children:Object(y.jsx)("a",{className:"text-white fw-bold text-decoration-none footer-link ",href:"https://codebar.io/student-guide",children:"Student Guide"})}),Object(y.jsx)("li",{children:Object(y.jsx)("a",{className:"text-white fw-bold text-decoration-none footer-link ",href:"http://tutorials.codebar.io/",children:"Tutorials"})}),Object(y.jsx)("li",{children:Object(y.jsx)("a",{className:"text-white fw-bold text-decoration-none footer-link ",href:"http://manual.codebar.io/becoming-a-sponsor",children:"Becoming a Sponsor"})}),Object(y.jsx)("li",{children:Object(y.jsx)("a",{className:"text-white fw-bold text-decoration-none footer-link ",href:"https://codebar.io/faq",children:"FAQ"})})]})}),Object(y.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-3",children:Object(y.jsxs)("ul",{className:"list-unstyled ml-0",children:[Object(y.jsx)("li",{children:Object(y.jsx)("a",{className:"text-white fw-bold text-decoration-none footer-link ",href:"http://stats.codebar.io/",children:"Stats"})}),Object(y.jsx)("li",{children:Object(y.jsx)("a",{className:"text-white fw-bold text-decoration-none footer-link ",href:"https://medium.com/the-codelog",children:"Blog"})}),Object(y.jsx)("li",{children:Object(y.jsx)("a",{className:"text-white fw-bold text-decoration-none footer-link ",href:"https://medium.com/codebar-stories",children:"codebar Stories"})}),Object(y.jsx)("li",{children:Object(y.jsx)("a",{className:"text-white fw-bold text-decoration-none footer-link ",href:"https://codebar.io/coaches",children:"Coaches"})}),Object(y.jsx)("li",{children:Object(y.jsx)("a",{className:"text-white fw-bold text-decoration-none footer-link ",href:"https://codebar.io/sponsors",children:"Sponsors"})}),Object(y.jsx)("li",{children:Object(y.jsx)("a",{className:"text-white fw-bold text-decoration-none footer-link ",href:"https://codebar.io/events",children:"Events"})}),Object(y.jsx)("li",{children:Object(y.jsx)("a",{className:"text-white fw-bold text-decoration-none footer-link ",href:"/",children:"Jobs"})}),Object(y.jsx)("li",{children:Object(y.jsx)("a",{className:"text-white fw-bold text-decoration-none footer-link ",href:"https://codebar.enthuse.com/donate/#!/",children:"Donate"})})]})}),Object(y.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-3",children:Object(y.jsxs)("ul",{className:"row ml-0 social-media",children:[Object(y.jsx)("li",{className:"col-3",children:Object(y.jsx)("a",{href:"https://slack.codebar.io/",children:Object(y.jsx)("img",{className:"social-svg",alt:"Slack logo",src:"https://codebar.io/assets/svgs/slack-94e55bb3ef8e2b984e7e2d20505ab15d76df82d02ea83d7d407f0458cb8d4500.svg"})})}),Object(y.jsx)("li",{className:"col-3",children:Object(y.jsx)("a",{href:"https://github.com/codebar",children:Object(y.jsx)("img",{className:"social-svg",alt:"GitHub logo",src:"https://codebar.io/assets/svgs/github-ad56233a12562c8d3d76cb5a7f305a9f996e04e8a552acb8d0136fc42f694bc1.svg"})})}),Object(y.jsx)("li",{className:"col-3",children:Object(y.jsx)("a",{href:"https://facebook.com/codebarHQ",children:Object(y.jsx)("img",{className:"social-svg",alt:"Facebook logo",src:"https://codebar.io/assets/svgs/facebook-6517228cd19711de9bef1b66f37bddc91bdba39bc1bc89c87d556ffbc1140d60.svg"})})}),Object(y.jsx)("li",{className:"col-3",children:Object(y.jsx)("a",{href:"https://twitter.com/codebar",children:Object(y.jsx)("img",{className:"social-svg",alt:"Twitter logo",src:"https://codebar.io/assets/svgs/twitter-4d150c1aaf00df0a77f4872b65f4750049a5d5e715558b3cb1114b3714e54804.svg"})})})]})})]}),Object(y.jsx)("div",{className:"row pb-2",children:Object(y.jsx)("div",{className:"col",children:Object(y.jsxs)("ul",{className:"list-inline m-0 p-0",children:[Object(y.jsx)("li",{className:"fs-6 list-inline-item",children:"Registered UK and Wales charity no. 1187776"}),Object(y.jsx)("li",{className:"list-inline-item",children:Object(y.jsx)("a",{className:"text-white fw-bold text-decoration-none footer-link ",href:"https://codebar.io/cookie-policy",children:"Cookie Policy"})}),Object(y.jsx)("li",{className:"list-inline-item",children:Object(y.jsx)("a",{className:"text-white fw-bold text-decoration-none footer-link ",href:"https://codebar.io/privacy-policy",children:"Privacy Policy"})})]})})})]})},L=a(105),P=a(160),A=a(154),B=a(113),T=function(e){var t,a=e.job,c=e.currentUser,s=e.isAdmin,n=e.approveJob,o=e.unPublishJob,r=new Date(a.expiry_date).toLocaleDateString(),i=a.published_on&&""!==a.published_on?new Date(a.published_on).getTime()>0?new Date(a.published_on).toLocaleDateString():a.published_on.substring(0,10):a.approved?null:"Not published";return Object(y.jsxs)("div",{className:"container",children:[Object(y.jsxs)("div",{className:"row",children:[!1===a.approved&&a.creator_id===c.uid||!0===s?Object(y.jsx)(g.b,{to:{pathname:"/my/jobs/".concat(a.id,"/edit")},state:{job:a},children:Object(y.jsx)(L.a,{className:"button fw-bold",children:"Edit this job"})}):null,!0===s?Object(y.jsx)("div",{className:"admin-info",children:!1===a.approved?Object(y.jsx)(g.b,{to:{pathname:S},children:Object(y.jsx)(L.a,{onClick:function(){n(a)},className:"button fw-bold",variant:"success",children:"Approve this job"})}):Object(y.jsxs)("div",{children:[Object(y.jsx)(g.b,{to:{pathname:S},children:Object(y.jsx)(L.a,{onClick:function(){o(a)},className:"button fw-bold",variant:"danger",children:"Un-publish this job"})}),Object(y.jsxs)("p",{className:"alert alert-primary mt-2",children:["This job was approved on ",i]})]})}):null]}),Object(y.jsxs)("div",{className:"row mb-5",children:[Object(y.jsxs)("section",{className:"col-lg-9 col-sm-12",children:[Object(y.jsx)("h2",{className:"mb-4",children:a.title}),Object(y.jsx)(A.a,{remarkPlugins:[B.a],children:a.description}),Object(y.jsx)("h3",{className:"mt-4",children:"Company"}),Object(y.jsx)("p",{className:"mb-0",children:a.company}),Object(y.jsx)("p",{children:Object(y.jsx)("a",{href:a.company_website,target:"_blank",rel:"noreferrer",children:a.company_website})})]}),Object(y.jsx)("section",{className:"col-lg-3 col-sm-6",children:Object(y.jsxs)(P.a,{children:[Object(y.jsxs)(P.a.Body,{children:[Object(y.jsxs)("div",{className:"p-2 mb-2",children:[Object(y.jsx)("p",{className:"mb-0 fw-bold",children:"Salary"}),Object(y.jsx)("p",{className:"mb-0",children:"0"===a.salary?"No salary information submitted":"\xa3"+a.salary})]}),Object(y.jsxs)("div",{className:"p-2 mb-2",children:[Object(y.jsx)("p",{className:"mb-0 fw-bold",children:"Location"}),Object(y.jsx)("p",{className:"mb-0",children:a.location})]}),Object(y.jsxs)("div",{className:"p-2 mb-2",children:[Object(y.jsx)("p",{className:"mb-0 fw-bold",children:"Closing date"}),(null===(t=a.closing_date)||void 0===t?void 0:t.seconds)?Object(y.jsx)("p",{className:"mb-0",children:new Date(1e3*a.closing_date.seconds).toLocaleDateString()}):Object(y.jsx)("p",{className:"mb-0",children:r})]}),Object(y.jsxs)("div",{className:"p-2 mb-2",children:[Object(y.jsx)("p",{className:"mb-0 fw-bold",children:"Contact email"}),Object(y.jsx)("p",{className:"mb-0",children:a.email})]}),a.contact_name?Object(y.jsxs)("div",{className:"p-2 mb-2",children:[Object(y.jsx)("p",{className:"mb-0 fw-bold",children:"Posted by"}),Object(y.jsx)("p",{className:"mb-0",children:a.contact_name})]}):null]}),Object(y.jsx)(P.a.Footer,{children:Object(y.jsx)(L.a,{className:"button fw-bold w-100",children:Object(y.jsx)("a",{className:"text-white text-decoration-none",href:a.link_to_job,target:"blank",children:"Apply for this job"})})})]})})]})]})},G=function(e){var t=e.jobs,a=e.currentUser,s=e.isAdmin,n=e.approveJob,o=e.unPublishJob,r=Object(c.useState)(null),i=Object(d.a)(r,2),l=i[0],b=i[1];return Object(c.useEffect)((function(){var e=window.location.href.split("/").pop();!function(){var a=t.filter((function(t){return t.id===e}));b(a[0])}()}),[t]),Object(y.jsx)("div",{children:l?Object(y.jsx)(T,{job:l,currentUser:a,isAdmin:s,unPublishJob:o,approveJob:n}):null})},U=a(150),q=a(151),R=a(110),Y=a(157),z=a(152),W=function(e){var t=e.logIn,a=Object(c.useState)(""),s=Object(d.a)(a,2),n=s[0],o=s[1],r=Object(c.useState)(""),l=Object(d.a)(r,2),j=l[0],m=l[1],h=Object(c.useState)(""),u=Object(d.a)(h,2),p=u[0],O=u[1],x=function(){var e=Object(b.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,t(n,j);case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),"auth/wrong-password"===e.t0.code||"auth/user-not-found"===e.t0.code?O("Invalid username / password"):(console.log(e.t0.code),O("Unknown error logging in"));case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsx)(U.a,{children:Object(y.jsx)(q.a,{children:Object(y.jsxs)(R.a,{md:{span:6,offset:3},children:[Object(y.jsxs)("p",{children:["Please sign in with your email and password. Please remember this new job board is currently in beta stage, so if you spot any issues please drop us an email ",Object(y.jsx)("a",{href:"mailto:hello@codebar.io",children:"hello@codebar.io"}),"."]}),Object(y.jsxs)(Y.a,{children:[Object(y.jsxs)(Y.a.Group,{size:"lg",controlId:"email",className:"sign-in-up-input",children:[Object(y.jsx)(Y.a.Label,{children:"Email*"}),Object(y.jsx)(Y.a.Control,{autoFocus:!0,type:"email",value:n,onChange:function(e){return o(e.target.value)}})]}),Object(y.jsxs)(Y.a.Group,{size:"lg",controlId:"password",className:"sign-in-up-input",children:[Object(y.jsx)(Y.a.Label,{children:"Password*"}),Object(y.jsx)(Y.a.Control,{type:"password",value:j,onChange:function(e){return m(e.target.value)}})]}),p?Object(y.jsx)(z.a,{variant:"danger mt-4",children:p}):null,Object(y.jsx)(L.a,{onClick:function(e){return x(e)},className:"button fw-bold",type:"submit",disabled:!(n.length>0&&j.length>0),children:"Login"}),Object(y.jsx)("a",{href:F,children:"I've forgotten my password"})]}),Object(y.jsx)("hr",{}),Object(y.jsxs)("div",{children:[Object(y.jsx)("p",{children:"Don't have an account?"}),Object(y.jsx)(g.b,{to:{pathname:_},children:Object(y.jsx)(L.a,{className:"button fw-bold",variant:"info",children:"Sign up"})})]})]})})})},V=function(e){var t=e.register,a=Object(c.useState)(""),s=Object(d.a)(a,2),n=s[0],o=s[1],r=Object(c.useState)(""),l=Object(d.a)(r,2),j=l[0],m=l[1],h=Object(c.useState)(""),u=Object(d.a)(h,2),p=u[0],O=u[1],x=Object(c.useState)(""),f=Object(d.a)(x,2),v=f[0],w=f[1],N=Object(c.useState)(""),k=Object(d.a)(N,2),C=k[0],S=k[1],J=Object(c.useState)(!0),_=Object(d.a)(J,2),F=_[0],E=_[1],D=function(){var e=Object(b.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,t(j,p,n,F);case 4:e.next=11;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0),"auth/email-already-in-use"===e.t0.code?S("Email already in use"):S("An error occured when registering");case 11:case 12:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsx)(U.a,{children:Object(y.jsxs)(q.a,{children:[Object(y.jsxs)(R.a,{md:{span:8,offset:2},children:[Object(y.jsxs)("h4",{class:"mb-3",children:["We are very excited to launch the brand new codebar job board. It is currently in beta so if you spot any issues please drop us an email ",Object(y.jsx)("a",{href:"mailto:hello@codebar.io",children:"hello@codebar.io"}),"."]}),Object(y.jsx)("p",{children:"Sign up to post jobs to the codebar Job Board and get your opportunity in front of our 19,000+ person community."})]}),Object(y.jsxs)(R.a,{md:{span:6,offset:3},children:[Object(y.jsxs)(Y.a,{children:[Object(y.jsxs)(Y.a.Group,{size:"lg",controlId:"name",className:"sign-in-up-input",children:[Object(y.jsx)(Y.a.Label,{children:"Full name*"}),Object(y.jsx)(Y.a.Control,{autoFocus:!0,type:"name",autoComplete:"username",value:n,onChange:function(e){return o(e.target.value)}})]}),Object(y.jsxs)(Y.a.Group,{size:"lg",controlId:"email",className:"sign-in-up-input",children:[Object(y.jsx)(Y.a.Label,{children:"Email*"}),Object(y.jsx)(Y.a.Control,{autoFocus:!0,type:"email",autoComplete:"username",value:j,onChange:function(e){return m(e.target.value)}})]}),Object(y.jsxs)(Y.a.Group,{size:"lg",controlId:"password",className:"sign-in-up-input",children:[Object(y.jsx)(Y.a.Label,{children:"Password*"}),Object(y.jsx)(Y.a.Control,{type:"password",autoComplete:"new-password",value:p,onChange:function(e){return O(e.target.value)}})]}),Object(y.jsxs)(Y.a.Group,{size:"lg",controlId:"password",className:"mb-4 sign-in-up-input",children:[Object(y.jsx)(Y.a.Label,{children:"Confirm password*"}),Object(y.jsx)(Y.a.Control,{type:"password",autoComplete:"new-password",value:v,onChange:function(e){return w(e.target.value)}})]}),Object(y.jsx)(Y.a.Group,{className:"mb-3",controlId:"job-remote",children:Object(y.jsx)(Y.a.Check,{type:"checkbox",label:"Un-check this box to opt out of marketing emails",defaultChecked:F,onChange:function(){E(!F)}})}),Object(y.jsx)(L.a,{onClick:function(e){return D(e)},className:"button",type:"submit",disabled:!(j.length>0&&p.length>0&&p===v),children:"Sign up"}),C?Object(y.jsx)(z.a,{variant:"danger",children:C}):null]}),Object(y.jsx)("hr",{}),Object(y.jsxs)("div",{children:[Object(y.jsx)("p",{children:"Already have an account?"}),Object(y.jsx)(g.b,{to:{pathname:I},children:Object(y.jsx)(L.a,{className:"button fw-bold",variant:"info",children:"Sign in"})})]})]})]})})},H=a(156),M=a(159),K=a(155),Q=function(){return Object(y.jsx)(H.a,{bg:"white",expand:"lg",fixed:"top",children:Object(y.jsxs)(U.a,{children:[Object(y.jsx)(H.a.Brand,{href:"https://www.codebar.io",children:Object(y.jsx)("img",{id:"header-logo",alt:"codebar logo",src:"https://codebar.io/assets/logo-7345316d16a39b0a5cda277d2cf4cbf3aed1031b9288c0696b8273771ee1fb20.png"})}),Object(y.jsx)(H.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(y.jsx)(H.a.Collapse,{id:"basic-navbar-nav",children:Object(y.jsxs)(M.a,{className:"ms-auto",children:[Object(y.jsx)(M.a.Link,{as:g.b,to:N,children:"Job Board"}),Object(y.jsx)(M.a.Link,{as:g.b,to:_,children:"Sign up"}),Object(y.jsx)(M.a.Link,{as:g.b,to:I,children:"Sign in"})]})})]})})},Z=function(e){var t=e.currentUser,a=e.logOut,c=e.isAdmin;return Object(y.jsx)(H.a,{bg:"white",expand:"lg",fixed:"top",children:Object(y.jsxs)(U.a,{children:[Object(y.jsx)(H.a.Brand,{href:"https://www.codebar.io",children:Object(y.jsx)("img",{id:"header-logo",alt:"codebar logo",src:"https://codebar.io/assets/logo-7345316d16a39b0a5cda277d2cf4cbf3aed1031b9288c0696b8273771ee1fb20.png"})}),Object(y.jsx)(H.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(y.jsx)(H.a.Collapse,{id:"basic-navbar-nav",children:Object(y.jsxs)(M.a,{className:"ms-auto",children:[Object(y.jsx)(M.a.Link,{href:"https://codebar.enthuse.com/donate/#!/",children:"Donate"}),Object(y.jsx)(M.a.Link,{as:g.b,to:N,children:"Job Board"}),Object(y.jsx)(M.a.Link,{as:g.b,to:k,children:"My Jobs"}),Object(y.jsx)(M.a.Link,{as:g.b,to:C,children:"Post a Job"}),Object(y.jsxs)(K.a,{title:"My Account",id:"basic-nav-dropdown",children:[!0===c?Object(y.jsx)(K.a.Item,{as:g.b,to:S,children:"Jobs to approve"}):null,!0===c?Object(y.jsx)(K.a.Item,{as:g.b,to:J,children:"Edit admin rights"}):null,Object(y.jsx)(K.a.ItemText,{children:Object(y.jsxs)("p",{children:["Logged in as ",t.email]})}),Object(y.jsx)(K.a.Item,{onClick:a,children:"Sign Out"})]})]})})]})})},X=a(153),$=a(158),ee=function(e){var t=e.currentUserJobs.map((function(e){return Object(y.jsxs)("div",{className:"row flex mt-3 border-bottom border-dark",children:[Object(y.jsx)("div",{className:"col-2",children:Object(y.jsx)(g.b,{to:{pathname:"/jobs/".concat(e.id)},children:Object(y.jsx)("p",{children:e.title})})}),Object(y.jsx)("div",{className:"col-2",children:Object(y.jsx)("p",{children:e.company})}),Object(y.jsx)("div",{className:"col-2",children:e.remote?Object(y.jsx)("p",{children:"Remote"}):Object(y.jsx)("p",{children:e.location})}),Object(y.jsx)("div",{className:"col-2",children:Object(y.jsx)("p",{children:e.published_on})}),Object(y.jsx)("div",{className:"col-2",children:new Date(e.expiry_date).getTime()>0?Object(y.jsx)("p",{children:e.expiry_date}):Object(y.jsx)("p",{children:"Invalid Date"})}),Object(y.jsx)("div",{className:"col-2",children:new Date(1e3*e.expiry_date.seconds)<new Date?Object(y.jsx)(X.a,{bg:"secondary",children:"Expired"}):e.approved?Object(y.jsx)(X.a,{bg:"success",children:"Live"}):Object(y.jsx)(X.a,{bg:"primary",children:"Awaiting Approval"})})]},e.id)}));return Object(y.jsxs)("div",{className:"col",children:[t,Object(y.jsx)("div",{className:"row my-4",children:Object(y.jsx)("div",{className:"col",children:Object(y.jsx)(g.b,{to:{pathname:C},children:Object(y.jsx)(L.a,{className:"button fw-bold",variant:"primary",children:"Post a new job"})})})})]})},te=function(){return Object(y.jsxs)("div",{className:"col-10",children:[Object(y.jsx)("div",{className:"row mb-4",children:Object(y.jsxs)("div",{className:"col",children:[Object(y.jsx)("h2",{children:"Reach out to our community of 9833 junior developers"}),Object(y.jsx)("p",{children:"Our aim is to be the one stop shop for junior developer roles. All jobs featured on our job board must fall under the following three categories; paid internships, apprenticeships or junior developer roles. Additionally, jobs must not require previous experience or a degree and must be paid positions. Each job that is submitted will be approved by the codebar team before appearing on the job board."}),Object(y.jsxs)("div",{className:"job-post-costs-section",children:[Object(y.jsx)("p",{children:"For a flat fee of \xa350 your post will be:"}),Object(y.jsxs)("ul",{children:[Object(y.jsx)("li",{children:"Promoted to our Slack community of 10,000 members"}),Object(y.jsx)("li",{children:"Promoted to our 9600 Twitter followers"})]})]}),Object(y.jsx)(g.b,{to:{pathname:C},children:Object(y.jsx)(L.a,{className:"button fw-bold",variant:"primary",children:"Post a job"})})]})}),Object(y.jsxs)("div",{className:"row",children:[Object(y.jsx)("div",{className:"col-12 col-md-4 mb-4",children:Object(y.jsx)($.a,{children:Object(y.jsxs)($.a.Body,{children:[Object(y.jsx)("p",{children:"Within 2 days of posting an ad on the codebar job board, we had dozens of high quality applications and we made an offer to a candidate within 2 weeks. There are a lot of talented interns and junior developers; posting on the codebar job board is a great way to reach them."}),Object(y.jsx)("p",{children:"Bruno Girin, CTO, Imby"})]})})}),Object(y.jsx)("div",{className:"col-12 col-md-4 mb-4",children:Object(y.jsx)($.a,{children:Object(y.jsxs)($.a.Body,{children:[Object(y.jsx)("p",{children:"The codebar job board has been amazing. It\u2019s been our best performing job board, and the quality of the applications was awesome. 100% the best \xa350 we have ever spent."}),Object(y.jsx)("p",{children:"Thomas Ankcorn, NearSt"})]})})})]})]})},ae=function(e){var t=e.logIn;return Object(y.jsxs)("div",{children:[Object(y.jsx)("h3",{children:"You need to log in to view your jobs"}),Object(y.jsx)(W,{logIn:t})]})},ce=function(e){var t=e.currentUser,a=e.jobs,s=e.logIn,n=Object(c.useState)([]),o=Object(d.a)(n,2),r=o[0],i=o[1];return Object(c.useEffect)((function(){if(t){var e=a.filter((function(e){return e.created_by_id===t.uid}));i(e)}}),[t,a]),Object(y.jsx)("div",{className:"container",children:t?Object(y.jsx)("div",{className:"row justify-content-center",children:r.length>0?Object(y.jsxs)("div",{className:"col-10",children:[Object(y.jsxs)("div",{className:"row border-bottom border-dark",children:[Object(y.jsx)("div",{className:"col-2",children:Object(y.jsx)("p",{className:"fs-5 fw-bold mb-2",children:"Job title"})}),Object(y.jsx)("div",{className:"col-2",children:Object(y.jsx)("p",{className:"fs-5 fw-bold mb-2",children:"Company"})}),Object(y.jsx)("div",{className:"col-2",children:Object(y.jsx)("p",{className:"fs-5 fw-bold mb-2",children:"Location"})}),Object(y.jsx)("div",{className:"col-2",children:Object(y.jsx)("p",{className:"fs-5 fw-bold mb-2",children:"Published on"})}),Object(y.jsx)("div",{className:"col-2",children:Object(y.jsx)("p",{className:"fs-5 fw-bold mb-2",children:"Expires on"})}),Object(y.jsx)("div",{className:"col-2",children:Object(y.jsx)("p",{className:"fs-5 fw-bold mb-2",children:"Status"})})]}),Object(y.jsx)(ee,{currentUser:t,currentUserJobs:r})]}):Object(y.jsx)(te,{})}):Object(y.jsx)(ae,{logIn:s})})},se=function(){var e=Object(c.useState)(!1),t=Object(d.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(!1),o=Object(d.a)(n,2),r=o[0],i=o[1],l=Object(c.useState)(!1),b=Object(d.a)(l,2),j=b[0],m=b[1],h=Object(c.useState)(!1),u=Object(d.a)(h,2),p=u[0],O=u[1],x=Object(c.useState)(!1),f=Object(d.a)(x,2),v=f[0],g=f[1],w=Object(c.useState)(!1),N=Object(d.a)(w,2),k=N[0],C=N[1],S=Object(c.useState)(!1),J=Object(d.a)(S,2),_=J[0],I=J[1];return Object(y.jsxs)("div",{className:"before-post-checklist-box card",children:[Object(y.jsx)("div",{className:"card-header",children:Object(y.jsx)("p",{className:"fw-bold m-0",children:"Before posting make sure that:"})}),Object(y.jsxs)("div",{className:"card-body",children:[Object(y.jsx)(Y.a.Group,{className:"mb-3",children:Object(y.jsx)(Y.a.Check,{type:"checkbox",label:"The position is suitable for people looking for internships, apprenticeships or junior roles that will enable them to build up their career",defaultChecked:a,onChange:function(){s(!a)}})}),Object(y.jsx)(Y.a.Group,{className:"mb-3",children:Object(y.jsx)(Y.a.Check,{type:"checkbox",label:"There is no degree requirement",defaultChecked:r,onChange:function(){i(!r)}})}),Object(y.jsx)(Y.a.Group,{className:"mb-3",children:Object(y.jsx)(Y.a.Check,{type:"checkbox",label:"There is no previous experience requirement",defaultChecked:j,onChange:function(){m(!j)}})}),Object(y.jsx)(Y.a.Group,{className:"mb-3",children:Object(y.jsx)(Y.a.Check,{type:"checkbox",label:"The job description details the work that will have to be undertaken",defaultChecked:p,onChange:function(){O(!p)}})}),Object(y.jsx)(Y.a.Group,{className:"mb-3",children:Object(y.jsx)(Y.a.Check,{type:"checkbox",label:"The job description is short and to the point",defaultChecked:v,onChange:function(){g(!v)}})}),Object(y.jsx)(Y.a.Group,{className:"mb-3",children:Object(y.jsx)(Y.a.Check,{type:"checkbox",label:"The job pays an appropriate salary",defaultChecked:k,onChange:function(){C(!k)}})}),Object(y.jsx)(Y.a.Group,{className:"mb-3",children:Object(y.jsx)(Y.a.Check,{type:"checkbox",label:"You have made the required payment of \xa350",defaultChecked:_,onChange:function(){I(!_)}})}),Object(y.jsx)(L.a,{variant:"info",className:"button fw-bold",children:Object(y.jsx)("a",{className:"text-dark text-decoration-none",href:"https://buy.stripe.com/fZe5kAeDA5lY6ti5kk",children:"Pay here"})}),Object(y.jsxs)("p",{children:["For an additional ",Object(y.jsx)("b",{children:"\xa3200"})," you can have your job listing featured in our newsletter and made visible to an audience of over 10,000 students and coaches. To find out more and when our next newsletter is being sent, send us an email at ",Object(y.jsx)("a",{href:"hello@codebar.io",children:"hello@codebar.io"}),"."]})]})]})},ne=function(e){var t=e.setFormJobTitle,a=e.setFormJobDescription,c=e.setFormJobSalary,s=e.setFormJobRemote,n=e.setFormJobContactName,o=e.setFormJobContactEmail,r=e.setFormJobPostLink,i=e.setFormJobClosingDate,l=e.setFormJobCompanyName,b=e.setFormJobCompanyLocation,d=e.setFormJobCompanyWebsite,j=e.setFormJobCompanyAddress,m=e.setFormJobCompanyPostcode,h=e.formJobRemote;return Object(y.jsxs)("div",{className:"border rounded p-4",children:[Object(y.jsxs)("section",{className:"job-details-section",children:[Object(y.jsx)("h3",{children:"Job post details"}),Object(y.jsxs)(Y.a.Group,{className:"mb-3",controlId:"job-title",children:[Object(y.jsx)(Y.a.Label,{children:"Title"}),Object(y.jsx)(Y.a.Control,{type:"text",required:!0,placeholder:"e.g. Internship",onChange:function(e){t(e.target.value)}}),Object(y.jsx)(Y.a.Control.Feedback,{type:"invalid",children:"Please provide a job title"})]}),Object(y.jsxs)(Y.a.Group,{className:"mb-3",controlId:"job-description",children:[Object(y.jsx)(Y.a.Label,{children:"Description"}),Object(y.jsx)(Y.a.Control,{as:"textarea",rows:10,required:!0,placeholder:"Use text or markdown for the job description",onChange:function(e){a(e.target.value)}}),Object(y.jsx)(Y.a.Control.Feedback,{type:"invalid",children:"Please provide a job description"})]}),Object(y.jsxs)(Y.a.Group,{className:"mb-3",controlId:"job-salary",children:[Object(y.jsx)(Y.a.Label,{children:"Salary"}),Object(y.jsx)(Y.a.Control,{type:"text",required:!0,onChange:function(e){c(e.target.value)}}),Object(y.jsx)(Y.a.Text,{children:"Annual pay before tax, with no commas or decimal points"}),Object(y.jsx)(Y.a.Control.Feedback,{type:"invalid",children:"Please provide a job salary"})]}),Object(y.jsxs)(Y.a.Group,{className:"mb-3",controlId:"job-remote",children:[Object(y.jsx)(Y.a.Check,{type:"checkbox",label:"Remote",defaultChecked:h,onChange:function(){s(!h)}}),Object(y.jsx)(Y.a.Text,{children:"Only check if the role is fully remote only"})]}),Object(y.jsxs)(Y.a.Group,{className:"mb-3",controlId:"job-contact-name",children:[Object(y.jsx)(Y.a.Label,{children:"Contact name"}),Object(y.jsx)(Y.a.Control,{type:"text",required:!0,onChange:function(e){n(e.target.value)}}),Object(y.jsx)(Y.a.Control.Feedback,{type:"invalid",children:"Please provide a contact name"})]}),Object(y.jsxs)(Y.a.Group,{className:"mb-3",controlId:"job-contact-email",children:[Object(y.jsx)(Y.a.Label,{children:"Contact email"}),Object(y.jsx)(Y.a.Control,{type:"text",required:!0,onChange:function(e){o(e.target.value)}}),Object(y.jsx)(Y.a.Control.Feedback,{type:"invalid",children:"Please provide a contact email"})]}),Object(y.jsxs)(Y.a.Group,{className:"mb-3",controlId:"job-post-link",children:[Object(y.jsx)(Y.a.Label,{children:"Link to job post"}),Object(y.jsx)(Y.a.Control,{type:"text",required:!0,onChange:function(e){r(e.target.value)}}),Object(y.jsx)(Y.a.Control.Feedback,{type:"invalid",children:"Please provide a link to the job application"})]}),Object(y.jsxs)(Y.a.Group,{className:"mb-3",controlId:"job-closing-date",children:[Object(y.jsx)(Y.a.Label,{children:"Closing date"}),Object(y.jsx)(Y.a.Control,{type:"date",required:!0,onChange:function(e){i(e.target.value)}}),Object(y.jsx)(Y.a.Control.Feedback,{type:"invalid",children:"Please provide a closing date for the job advert"})]})]}),Object(y.jsxs)("section",{className:"company-details-section",children:[Object(y.jsx)("h3",{children:"Company details"}),Object(y.jsxs)(Y.a.Group,{className:"mb-3",controlId:"company-name",children:[Object(y.jsx)(Y.a.Label,{children:"Name"}),Object(y.jsx)(Y.a.Control,{type:"text",required:!0,placeholder:"e.g. codebar",onChange:function(e){l(e.target.value)}}),Object(y.jsx)(Y.a.Control.Feedback,{type:"invalid",children:"Please provide the company name"})]}),Object(y.jsxs)(Y.a.Group,{className:"mb-3",controlId:"company-website",children:[Object(y.jsx)(Y.a.Label,{children:"Website"}),Object(y.jsx)(Y.a.Control,{type:"text",required:!0,placeholder:"e.g. https://www.codebar.io",onChange:function(e){d(e.target.value)}}),Object(y.jsx)(Y.a.Control.Feedback,{type:"invalid",children:"Please provide a URL to the company website"})]}),Object(y.jsxs)(Y.a.Group,{className:"mb-3",controlId:"company-location",children:[Object(y.jsx)(Y.a.Label,{children:"Location"}),Object(y.jsx)(Y.a.Control,{type:"text",required:!0,placeholder:"e.g. London or Berlin",onChange:function(e){b(e.target.value)}}),Object(y.jsx)(Y.a.Control.Feedback,{type:"invalid",children:"Please provide the location of the company"})]})]}),Object(y.jsxs)("section",{className:"google-search-section",children:[Object(y.jsx)("p",{children:"The information below is only required if you want this job post to be shared with Google Search UK"}),Object(y.jsxs)(Y.a.Group,{className:"mb-3",controlId:"company-address",children:[Object(y.jsx)(Y.a.Label,{children:"Address"}),Object(y.jsx)(Y.a.Control,{type:"text",onChange:function(e){j(e.target.value)}})]}),Object(y.jsxs)(Y.a.Group,{className:"mb-3",controlId:"company-postcode",children:[Object(y.jsx)(Y.a.Label,{children:"Postcode"}),Object(y.jsx)(Y.a.Control,{type:"text",onChange:function(e){m(e.target.value)}})]})]})]})},oe=function(e){var t=e.createJobPost,a=e.currentUser,s=e.logIn,n=Object(c.useState)(!1),o=Object(d.a)(n,2),r=o[0],i=o[1],l=Object(c.useState)(""),b=Object(d.a)(l,2),m=b[0],h=b[1],u=Object(c.useState)(""),p=Object(d.a)(u,2),O=p[0],x=p[1],f=Object(c.useState)(""),v=Object(d.a)(f,2),w=v[0],N=v[1],C=Object(c.useState)(!1),S=Object(d.a)(C,2),J=S[0],_=S[1],I=Object(c.useState)(""),F=Object(d.a)(I,2),E=F[0],D=F[1],P=Object(c.useState)(""),A=Object(d.a)(P,2),B=A[0],T=A[1],G=Object(c.useState)(""),U=Object(d.a)(G,2),q=U[0],R=U[1],z=Object(c.useState)(""),V=Object(d.a)(z,2),H=V[0],M=V[1],K=Object(c.useState)(""),Q=Object(d.a)(K,2),Z=Q[0],X=Q[1],$=Object(c.useState)(""),ee=Object(d.a)($,2),te=ee[0],ae=ee[1],ce=Object(c.useState)(""),oe=Object(d.a)(ce,2),re=oe[0],ie=oe[1],le=Object(c.useState)(""),be=Object(d.a)(le,2),de=be[0],je=be[1],me=Object(c.useState)(""),he=Object(d.a)(me,2),ue=he[0],pe=he[1],Oe=Object(j.e)(),xe=Object(j.f)();Object(c.useEffect)((function(){!function(){if(Oe.state){document.getElementById("job-title").value=Oe.state.previewJob.title,h(Oe.state.previewJob.title),document.getElementById("job-description").value=Oe.state.previewJob.description,x(Oe.state.previewJob.description),document.getElementById("job-salary").value=Oe.state.previewJob.salary,N(Oe.state.previewJob.salary);var e=document.getElementById("job-remote");!0===Oe.state.previewJob.remote&&(_(!0),e.checked="true"),document.getElementById("job-contact-name").value=Oe.state.previewJob.contact_name,D(Oe.state.previewJob.contact_name),document.getElementById("job-contact-email").value=Oe.state.previewJob.email,T(Oe.state.previewJob.email),document.getElementById("job-post-link").value=Oe.state.previewJob.link_to_job,R(Oe.state.previewJob.link_to_job),document.getElementById("job-closing-date").value=Oe.state.previewJob.expiry_date,M(Oe.state.previewJob.expiry_date),document.getElementById("company-name").value=Oe.state.previewJob.company,X(Oe.state.previewJob.company),document.getElementById("company-website").value=Oe.state.previewJob.company_website,ie(Oe.state.previewJob.company_website),document.getElementById("company-location").value=Oe.state.previewJob.location,ae(Oe.state.previewJob.location),document.getElementById("company-address").value=Oe.state.previewJob.company_address,je(Oe.state.previewJob.company_address),document.getElementById("company-postcode").value=Oe.state.previewJob.company_postcode,pe(Oe.state.previewJob.company_postcode)}}()}),[]);var fe={expiry_date:H,company_address:de,location:te,company:Z,company_postcode:ue,company_website:re,email:B,contact_name:E,created_by_id:"",description:O,link_to_job:q,title:m,published_on:"",remote:J,salary:w};return Object(y.jsx)("div",{className:"container",children:a?Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{children:"List a new job"}),Object(y.jsxs)("p",{className:"alert alert-primary fw-bold",children:["You will need to make the payment of \xa350 before the job can be approved. ",Object(y.jsx)("a",{href:"https://buy.stripe.com/fZe5kAeDA5lY6ti5kk",children:"Pay here"}),"."]}),Object(y.jsx)("hr",{}),Object(y.jsxs)("div",{className:"row mt-4",children:[Object(y.jsx)("div",{className:"col-md-6 col-sm-12 order-md-last",children:Object(y.jsx)(se,{})}),Object(y.jsx)("div",{className:"container col-md-6 col-sm-12",children:Object(y.jsxs)(Y.a,{noValidate:!0,validated:r,className:"job-post-form",onSubmit:function(e){!function(e){if(!1===e.currentTarget.checkValidity())return e.preventDefault(),e.stopPropagation(),void i(!0);i(!0),e.preventDefault(),t(m,O,w,J,E,B,q,H,Z,te,re,de,ue),xe(k)}(e)},children:[Object(y.jsx)(ne,{setFormJobTitle:h,setFormJobDescription:x,setFormJobSalary:N,setFormJobRemote:_,setFormJobContactName:D,setFormJobContactEmail:T,setFormJobPostLink:R,setFormJobClosingDate:M,setFormJobCompanyName:X,setFormJobCompanyLocation:ae,setFormJobCompanyWebsite:ie,setFormJobCompanyAddress:je,setFormJobCompanyPostcode:pe,formJobRemote:J}),Object(y.jsxs)("div",{className:"my-4",children:[Object(y.jsx)(g.b,{to:{pathname:"/my/jobs/new/preview"},state:{previewJob:fe},children:Object(y.jsx)(L.a,{className:"button fw-bold",variant:"secondary",children:"Preview this job post"})}),Object(y.jsx)(L.a,{className:"button fw-bold",variant:"primary",type:"submit",children:"Submit job for approval"})]})]})})]})]}):Object(y.jsxs)("div",{className:"mb-4",children:[Object(y.jsx)("h3",{className:"mb-4",children:"You need to log in to post a job"}),Object(y.jsx)(W,{logIn:s})]})})},re=function(){var e=Object(j.e)().state.previewJob;return Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)("h2",{children:"Preview of Job Post"}),Object(y.jsx)(g.b,{to:{pathname:C},state:{previewJob:e},children:Object(y.jsx)(L.a,{children:"Back to job form"})}),Object(y.jsx)("hr",{}),Object(y.jsx)(T,{job:e})]})},ie=function(e){var t=e.updateJobPost,a=e.currentUser,s=e.isAdmin,n=Object(j.e)(),o=n.state.job,r=Object(j.f)(),i=Object(c.useState)(!1),l=Object(d.a)(i,2),b=l[0],m=l[1],h=Object(c.useState)(""),u=Object(d.a)(h,2),p=u[0],O=u[1],x=Object(c.useState)(""),f=Object(d.a)(x,2),v=f[0],g=f[1],w=Object(c.useState)(""),N=Object(d.a)(w,2),C=N[0],J=N[1],_=Object(c.useState)(!1),I=Object(d.a)(_,2),F=I[0],E=I[1],D=Object(c.useState)(""),P=Object(d.a)(D,2),A=P[0],B=P[1],T=Object(c.useState)(""),G=Object(d.a)(T,2),U=G[0],q=G[1],R=Object(c.useState)(""),z=Object(d.a)(R,2),V=z[0],H=z[1],M=Object(c.useState)(""),K=Object(d.a)(M,2),Q=K[0],Z=K[1],X=Object(c.useState)(""),$=Object(d.a)(X,2),ee=$[0],te=$[1],ae=Object(c.useState)(""),ce=Object(d.a)(ae,2),oe=ce[0],re=ce[1],ie=Object(c.useState)(""),le=Object(d.a)(ie,2),be=le[0],de=le[1],je=Object(c.useState)(""),me=Object(d.a)(je,2),he=me[0],ue=me[1],pe=Object(c.useState)(""),Oe=Object(d.a)(pe,2),xe=Oe[0],fe=Oe[1];Object(c.useEffect)((function(){!function(){var e;if(null===(e=n.state)||void 0===e?void 0:e.job){document.getElementById("job-title").value=o.title,O(o.title),document.getElementById("job-description").value=o.description,g(o.description),document.getElementById("job-salary").value=o.salary,J(o.salary);var t=document.getElementById("job-remote");!0===o.remote&&(E(!0),t.checked="true"),document.getElementById("job-contact-name").value=o.contact_name,B(o.contact_name),document.getElementById("job-contact-email").value=o.email,q(o.email),document.getElementById("job-post-link").value=o.link_to_job,H(o.link_to_job);var a=document.getElementById("job-closing-date"),c=new Date(o.expiry_date).toLocaleDateString().split("/").reverse().join("-");a.value=c,Z(o.expiry_date),document.getElementById("company-name").value=o.company,te(o.company),document.getElementById("company-website").value=o.company_website,de(o.company_website),document.getElementById("company-location").value=o.location,re(o.location),document.getElementById("company-address").value=o.company_address,ue(o.company_address),document.getElementById("company-postcode").value=o.company_postcode,fe(o.company_postcode)}}()}),[]);return Object(y.jsx)("div",{className:"container",children:a?Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{children:"Edit your job"}),Object(y.jsxs)("p",{class:"alert alert-primary fw-bold",children:["You will need to make the payment of \xa350 before the job can be approved. ",Object(y.jsx)("a",{href:"https://buy.stripe.com/fZe5kAeDA5lY6ti5kk",children:"Pay here"}),"."]}),Object(y.jsx)("hr",{}),Object(y.jsxs)("div",{className:"row mt-4",children:[Object(y.jsx)("div",{className:"col-md-6 col-sm-12 order-md-last",children:Object(y.jsx)(se,{})}),Object(y.jsx)("div",{className:"container col-md-6 col-sm-12",children:Object(y.jsxs)(Y.a,{noValidate:!0,validated:b,className:"job-post-form",onSubmit:function(e){!function(e){if(!1===e.currentTarget.checkValidity())return e.preventDefault(),e.stopPropagation(),void m(!0);m(!0),e.preventDefault(),t(o.id,p,v,C,F,A,U,V,Q,ee,oe,be,he,xe),r(s?S:k)}(e)},children:[Object(y.jsx)(ne,{setFormJobTitle:O,setFormJobDescription:g,setFormJobSalary:J,setFormJobRemote:E,setFormJobContactName:B,setFormJobContactEmail:q,setFormJobPostLink:H,setFormJobClosingDate:Z,setFormJobCompanyName:te,setFormJobCompanyLocation:re,setFormJobCompanyWebsite:de,setFormJobCompanyAddress:ue,setFormJobCompanyPostcode:fe,formJobRemote:F}),Object(y.jsx)("div",{className:"my-4",children:s?Object(y.jsx)(L.a,{className:"button bold",variant:"primary",type:"submit",children:"Save edits"}):Object(y.jsx)(L.a,{className:"button bold",variant:"primary",type:"submit",children:"Re-submit job for approval"})})]})})]})]}):Object(y.jsxs)("div",{children:[Object(y.jsx)("h3",{children:"You need to log in to edit a job"}),Object(y.jsx)(W,{})]})})},le=a(92),be=function(e){var t=e.makeNewAdmin,a=e.removeAdmin,s=e.isAdmin,n=Object(c.useState)(""),o=Object(d.a)(n,2),r=o[0],l=o[1],j=Object(c.useState)(""),m=Object(d.a)(j,2),h=m[0],u=m[1],p=Object(c.useState)(""),O=Object(d.a)(p,2),x=O[0],f=O[1],v=Object(c.useState)(""),g=Object(d.a)(v,2),w=g[0],N=g[1],k=function(){var e=Object(b.a)(i.a.mark((function e(a){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),c=document.querySelector("#new-admin-email").value,e.prev=2,e.next=5,t(c);case 5:u("".concat(c," has successfully been made an admin")),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0.message),l(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(b.a)(i.a.mark((function e(t){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c=document.querySelector("#remove-admin-email").value,e.prev=2,e.next=5,a(c);case 5:N("".concat(c," has successfully been removed from the admin list")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),f(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsx)("div",{children:s?Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)("h3",{children:"Add a new admin"}),Object(y.jsx)("p",{children:"To make an existing user an admin by their email address"}),Object(y.jsxs)(Y.a,{onSubmit:k,className:"col-6",children:[Object(y.jsx)(le.a,{controlId:"new-admin-email",children:Object(y.jsx)(Y.a.Control,{type:"email",placeholder:"user email"})}),Object(y.jsx)(L.a,{className:"button",type:"submit",children:"Make an admin"})]}),r?Object(y.jsxs)(z.a,{variant:"danger",children:["Error updating admin rights. ",r]}):null,h?Object(y.jsx)(z.a,{variant:"success",children:h}):null,Object(y.jsx)("hr",{}),Object(y.jsx)("h3",{children:"Remove an admin"}),Object(y.jsx)("p",{children:"To remove an admin by their email address"}),Object(y.jsxs)(Y.a,{onSubmit:C,className:"col-6",children:[Object(y.jsx)(le.a,{controlId:"remove-admin-email",children:Object(y.jsx)(Y.a.Control,{type:"email",placeholder:"user email"})}),Object(y.jsx)(L.a,{className:"button",type:"submit",children:"Remove admin"})]}),x?Object(y.jsxs)(z.a,{variant:"danger",children:["Error updating admin rights. ",x]}):null,w?Object(y.jsx)(z.a,{variant:"success",children:w}):null]}):Object(y.jsx)("div",{className:"container",children:Object(y.jsx)("h3",{children:"You need to be logged in as an admin to access this page"})})})},de=function(e){var t=e.jobs,a=e.isAdmin,s=Object(c.useState)([]),n=Object(d.a)(s,2),o=n[0],r=n[1];Object(c.useEffect)((function(){var e=t.sort((function(e){return e.approved?1:-1}));r(e)}),[t]);var i=o.map((function(e){var t=new Date(e.expiry_date).toLocaleDateString();return Object(y.jsx)("div",{children:Object(y.jsxs)("div",{className:"row mt-3 border-bottom border-dark",children:[Object(y.jsx)("div",{className:"col-3",children:Object(y.jsx)(g.b,{to:{pathname:"/jobs/".concat(e.id)},children:Object(y.jsx)("p",{children:e.title})})}),Object(y.jsx)("div",{className:"col-2",children:Object(y.jsx)("p",{children:e.company})}),Object(y.jsx)("div",{className:"col-2",children:e.remote?Object(y.jsx)("p",{children:"Remote"}):Object(y.jsx)("p",{children:e.location})}),Object(y.jsx)("div",{className:"col-2",children:Object(y.jsx)("p",{children:t})}),Object(y.jsx)("div",{className:"col-2",children:new Date(e.expiry_date)>new Date&&e.approved?Object(y.jsx)(X.a,{bg:"success",children:"Live"}):new Date(e.expiry_date)>new Date&&!e.approved?Object(y.jsx)(X.a,{bg:"warning",children:"Awaiting Approval"}):(new Date(e.expiry_date),new Date,Object(y.jsx)(X.a,{bg:"secondary",children:"Expired"}))}),Object(y.jsx)("div",{className:"col-1",children:Object(y.jsx)(g.b,{to:{pathname:"/jobs/".concat(e.id)},children:"Review"})})]},e.id)},e.id)}));return Object(y.jsx)("div",{children:a?Object(y.jsx)("div",{className:"container mb-4",children:Object(y.jsxs)("div",{className:"row",children:[Object(y.jsx)("div",{className:"col-12",children:Object(y.jsxs)("div",{className:"row border-bottom border-dark",children:[Object(y.jsx)("div",{className:"col-3",children:Object(y.jsx)("p",{className:"fs-5 fw-bold mb-2",children:"Job title"})}),Object(y.jsx)("div",{className:"col-2",children:Object(y.jsx)("p",{className:"fs-5 fw-bold mb-2",children:"Company"})}),Object(y.jsx)("div",{className:"col-2",children:Object(y.jsx)("p",{className:"fs-5 fw-bold mb-2",children:"Location"})}),Object(y.jsx)("div",{className:"col-2",children:Object(y.jsx)("p",{className:"fs-5 fw-bold mb-2",children:"Closing date"})}),Object(y.jsx)("div",{className:"col-2",children:Object(y.jsx)("p",{className:"fs-5 fw-bold mb-2",children:"Status"})}),Object(y.jsx)("div",{className:"col-1"})]})}),Object(y.jsx)("div",{className:"col-12",children:i})]})}):Object(y.jsx)("div",{className:"container",children:Object(y.jsx)("h3",{children:"You need to be logged in as an admin to access this page"})})})},je=function(e){var t=e.resetPasswordEmail,a=Object(c.useState)(""),s=Object(d.a)(a,2),n=s[0],o=s[1],r=Object(c.useState)(""),l=Object(d.a)(r,2),j=l[0],m=l[1],h=Object(c.useState)(""),u=Object(d.a)(h,2),p=u[0],O=u[1],x=function(){var e=Object(b.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,t(n);case 4:m("A reset link has been sent to your inbox"),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0.message),"FirebaseError: Firebase: Error (auth/invalid-email)."===e.t0.message?O("Invalid email address"):"FirebaseError: Firebase: Error (auth/user-not-found)."===e.t0.message?O("We couldn't find that email address in our system.  Sign up to register."):O("Error sending link");case 12:case 13:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsx)(U.a,{children:Object(y.jsx)(q.a,{children:Object(y.jsxs)(R.a,{md:{span:6,offset:3},children:[Object(y.jsx)("p",{children:"We'll send a password reset link to your email"}),Object(y.jsxs)(Y.a,{children:[Object(y.jsxs)(Y.a.Group,{size:"lg",controlId:"email",className:"sign-in-up-input",children:[Object(y.jsx)(Y.a.Label,{children:"Email"}),Object(y.jsx)(Y.a.Control,{autoFocus:!0,type:"email",value:n,onChange:function(e){return o(e.target.value)}})]}),Object(y.jsx)(L.a,{onClick:function(e){return x(e)},className:"button fw-bold",type:"submit",disabled:!(n.length>0),children:"Reset password"}),Object(y.jsx)("a",{href:I,children:"Go to login page"})]}),j?Object(y.jsx)(z.a,{variant:"success",children:j}):p?Object(y.jsx)(z.a,{variant:"danger",children:p}):null,Object(y.jsx)("hr",{}),Object(y.jsxs)("div",{children:[Object(y.jsx)("p",{children:"Don't have an account?"}),Object(y.jsx)(g.b,{to:{pathname:_},children:Object(y.jsx)(L.a,{className:"button bold",variant:"info",children:"Sign up"})})]})]})})})},me=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)({}),o=Object(d.a)(n,2),r=o[0],u=o[1],p=Object(c.useState)(!1),x=Object(d.a)(p,2),g=x[0],w=x[1],L=Object(m.b)(f,"jobs"),P=Object(m.b)(f,"mail"),A=Object(m.b)(f,"user_details"),B=Object(j.f)(),T=Object(h.a)(),U={url:"http://localhost:3000/",handleCodeInApp:!0};Object(c.useEffect)((function(){var e=function(){var e=Object(b.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.d)(L);case 2:t=e.sent,s(t.docs.map((function(e){return Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id})})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[L]),Object(O.c)(v,(function(e){u(e),e&&e.getIdTokenResult().then((function(e){var t;(null===(t=e.claims)||void 0===t?void 0:t.admin)?w(e.claims.admin):w(!1)}))}));var q=function(){var e=Object(b.a)(i.a.mark((function e(t){var a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g){e.next=15;break}return e.prev=1,a=Object(h.b)(T,"addAdminRole"),e.next=5,a({email:t});case 5:c=e.sent,console.log(c),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:e.next=16;break;case 15:throw new Error("Only admins can make changes");case 16:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(b.a)(i.a.mark((function e(t){var a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g){e.next=15;break}return e.prev=1,a=Object(h.b)(T,"removeAdminRole"),e.next=5,a({email:t});case 5:c=e.sent,console.log(c),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:e.next=16;break;case 15:throw new Error("Only admins can make changes");case 16:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(b.a)(i.a.mark((function e(t,a,c,s){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.a)(v,t,a).then((function(e){return z(e.user.uid,c,s,t)}));case 2:B(N);case 3:case"end":return e.stop()}}),e)})));return function(t,a,c,s){return e.apply(this,arguments)}}(),z=function(){var e=Object(b.a)(i.a.mark((function e(t,a,c,s){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(m.a)(A,{user_id:t,name:a,email:s,marketing_opt_in:c,date_registered:new Date});case 3:n=e.sent,console.log(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a,c,s){return e.apply(this,arguments)}}(),H=function(){var e=Object(b.a)(i.a.mark((function e(t,a){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.f)(v,t,a);case 2:c=e.sent,console.log(c),B(N);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),M=function(){var e=Object(b.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.e)(v,t,U);case 2:window.localStorage.setItem("emailForSignIn",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(b.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.g)(v);case 2:B(N);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(b.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(O.d)(v,t);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),Error(e.t0);case 8:case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(b.a)(i.a.mark((function e(t,a,c,s,n,o,l,b,d,j,h,u,p){var O;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(m.a)(L,{expiry_date:b,company_address:u,location:j,company:d,company_postcode:p,company_website:h,email:o,contact_name:n,created_at:(new Date).toLocaleDateString(),created_by_id:r.uid,description:a,link_to_job:l,title:t,published_on:"",remote:s,salary:c,approved:!1});case 3:O=e.sent,console.log(O),se("jobs@codebar.io",{subject:"New job post",text:"A new job '".concat(t,"' at ").concat(d," has been submitted for approval")}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,c,s,n,o,r,i,l,b,d,j,m){return e.apply(this,arguments)}}(),ee=function(){var e=Object(b.a)(i.a.mark((function e(t,a,c,s,n,o,r,l,b,d,j,h,u,p){var O,x;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O=Object(m.c)(f,"jobs",t),x={expiry_date:b,company_address:u,location:j,company:d,company_postcode:p,company_website:h,email:r,contact_name:o,description:c,link_to_job:l,title:a,published_on:"",remote:n,salary:s,approved:!1},e.next=5,Object(m.e)(O,x);case 5:console.log(O),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,c,s,n,o,r,i,l,b,d,j,m,h){return e.apply(this,arguments)}}(),te=function(){var e=Object(b.a)(i.a.mark((function e(t){var a,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Object(m.c)(f,"jobs",t.id),c=(new Date).toLocaleDateString(),s={approved:!0,published_on:c},e.next=6,Object(m.e)(a,s);case 6:ne(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(b.a)(i.a.mark((function e(t){var a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Object(m.c)(f,"jobs",t.id),c={approved:!1,published_on:""},e.next=5,Object(m.e)(a,c);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(b.a)(i.a.mark((function e(t,a){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(m.a)(P,{to:t,message:a});case 3:c=e.sent,console.log(c),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),ne=function(){var e=Object(b.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="<html>\n            <body>\n                <h3>Hi ".concat(t.contact_name,'</h3>\n                <p>The <a href="').concat(t.link_to_job,'">').concat(t.title,"</a> at ").concat(t.company,' job you submitted has been approved.</p>\n                <p>It is now visible to all members at <a href="https://jobs.codebar.io">our jobs section.</a></p>\n\n\n                <h4>Contact info</h4>\n                <p>Email: <strong><a href="mailto:jobs@codebar.io">jobs@codebar.io</a></strong></p>\n\n            </body>\n        </html>'),e.prev=1,e.next=4,se(t.email,{subject:"Job post approved",html:a});case 4:console.log("Email sent"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{children:[Object(y.jsx)("header",{id:"top",children:r?Object(y.jsx)("div",{children:Object(y.jsx)(Z,{currentUser:r,isAdmin:g,logOut:K})}):Object(y.jsx)("div",{children:Object(y.jsx)(Q,{})})}),Object(y.jsx)("div",{children:Object(y.jsxs)(j.c,{children:[Object(y.jsx)(j.a,{exact:!0,path:N,element:Object(y.jsx)(E,{currentUser:r,jobs:a})}),Object(y.jsx)(j.a,{exact:!0,path:"/jobs/:job_id",element:Object(y.jsx)(G,{currentUser:r,jobs:a,isAdmin:g,approveJob:te,unPublishJob:ae})}),Object(y.jsx)(j.a,{path:_,element:Object(y.jsx)(V,{register:Y})}),Object(y.jsx)(j.a,{path:I,element:Object(y.jsx)(W,{logIn:H,sendLink:M})}),Object(y.jsx)(j.a,{path:k,element:Object(y.jsx)(ce,{logIn:H,jobs:a,currentUser:r})}),Object(y.jsx)(j.a,{path:C,element:Object(y.jsx)(oe,{logIn:H,currentUser:r,createJobPost:$})}),Object(y.jsx)(j.a,{path:"/my/jobs/new/preview",element:Object(y.jsx)(re,{})}),Object(y.jsx)(j.a,{path:"/my/jobs/:job_id/edit",element:Object(y.jsx)(ie,{isAdmin:g,currentUser:r,updateJobPost:ee})}),Object(y.jsx)(j.a,{path:J,element:Object(y.jsx)(be,{isAdmin:g,removeAdmin:R,makeNewAdmin:q})}),Object(y.jsx)(j.a,{path:S,element:Object(y.jsx)(de,{isAdmin:g,jobs:a})}),Object(y.jsx)(j.a,{path:F,element:Object(y.jsx)(je,{resetPasswordEmail:X})})]})}),Object(y.jsx)(D,{})]})},he=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,161)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,o=t.getTTFB;a(e),c(e),s(e),n(e),o(e)}))};o.a.render(Object(y.jsx)(s.a.StrictMode,{children:Object(y.jsx)(g.a,{children:Object(y.jsx)(me,{})})}),document.getElementById("root")),he()}},[[131,1,2]]]);
//# sourceMappingURL=main.5cdd010e.chunk.js.map